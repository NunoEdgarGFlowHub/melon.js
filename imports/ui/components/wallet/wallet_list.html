<template name="wallet_list">
  <div class="card grey lighten-4">
    <div class="card-content">
      <!-- Wallets have been created -->
      <table class="highlight centered responsive-table">
        <thead>
          <tr>
            <th>{{i18n 'dapp.app.headers.identicon'}}</th>
            <th>{{i18n 'dapp.app.headers.balance'}}</th>
            <th>{{i18n 'dapp.app.headers.performance'}}</th>
            <th>{{i18n 'dapp.app.headers.export'}}</th>
            <th>{{i18n 'dapp.app.headers.open'}}</th>
            <th>{{i18n 'dapp.app.headers.delete'}}</th>
          </tr>
        </thead>
        <tbody>
          {{#each wallets}}
            <tr>
              <td>
                <a href="http://testnet.etherscan.io/address/{{address}}" target="_blank">
                  {{> dapp_identicon identity=address class="dapp-small"}}
                </a>
              </td>
              <td>
                <a href="http://testnet.etherscan.io/address/{{address}}" target="_blank">
                  {{displayBalance balance}}
                </a>
              </td>
              <td>N/A</td>
              <td>
                {{#if isUnlocked address}}
                  <!-- Modal Trigger -->
                  <a class="export waves-effect waves-light btn orange lighten-2"><i class="material-icons">import_export</i></a>
                {{else}}
                  <a class="unlock waves-effect waves-light btn blue-grey lighten-2"><i class="material-icons">lock</i></a>
                {{/if}}
              </td>
              <!-- Open -->
              <td>
                {{#if isUnlocked address}}
                  <a class="lock waves-effect waves-light btn green lighten-2"><i class="material-icons">lock_open</i></a>
                {{else}}
                  <a class="unlock waves-effect waves-light btn blue-grey lighten-2"><i class="material-icons">lock</i></a>
                {{/if}}
              </td>
              <!-- Delete -->
              <td>
                {{#if isUnlocked address}}
                  <!-- Modal Trigger -->
                  <a class="delete waves-effect waves-light btn black lighten-2"><i class="material-icons">delete</i></a>
                {{else}}
                  <a class="unlock waves-effect waves-light btn blue-grey lighten-2"><i class="material-icons">lock</i></a>
                {{/if}}
              </td>
            </tr>
          {{/each}}
        </tbody>
      </table>

      <p>{{i18n 'dapp.components.balance.total'}}: <strong>{{totalBalance}}</strong></p>
      <br/>
      <div class="card-action">
        <button type="button" class="btn btn-default refresh-wallets">{{i18n 'dapp.components.wallet.refresh'}}</button>
      </div>
    </div>
  </div>

  <!-- Modal Export -->
  <div id="modalExport" class="modal">
    <div class="modal-content">
      <h4>12-word seed</h4>
      <p>From this seed you can generate addresses and private keys, and use the private keys to sign transactions.</p>
      <p>Your secret seed is: <b>{{getSeed}}</b></p>
    </div>
    <div class="modal-footer">
      <button type="button" class="modal-action modal-close waves-effect waves-green btn-flat new-wallet">Ok</button>
    </div>
  </div>

  <!-- Modal Delete -->
  <div id="modalDelete" class="modal">
    <div class="modal-content">
      <h4>Permanently Delete my Wallet</h4>
      <p>Are you sure you want to delete your wallet?</p>
    </div>
    <div class="modal-footer">
      <a href="wallet/" class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
      <button type="button" class="deleteAgreed modal-action modal-close waves-effect waves-green btn-flat delete-wallet">Yes</button>
    </div>
  </div>
</template>
