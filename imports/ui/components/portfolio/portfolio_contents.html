<template name="portfolio_contents">

    <div class="card">
      <div class="card-content">
        <span class="card-title">
          Portfolio Holdings
        </span>

        <table class="highlight centered responsive-table">
          <thead>
            <tr>
              <th>Asset<br/>(Name)</th>
              <th>Amount<br/>(Token)</th>
              <th>Composition<br/>(%)</th>
              <!-- TODO Eur is changable -->
              <th>Price<br/>(EUR)</th>
              <th>24h change<br/>(%)</th>
            </tr>
          </thead>
          <tbody>
          {{#each assets}}
            <tr>
              <td>
                <a href="http://testnet.etherscan.io/address/{{this.address}}" target="_blank">
                  {{this.name}}
                </a>
              </td>
              <td>{{convertFromTokenPrecision this.holdings}}</td>
              <td>{{portfolioPercentrage}}</td>
              <td>
                <a href="http://testnet.etherscan.io/address/{{this.priceFeed.address}}" target="_blank">
                  {{dapp_formatBalance (invertValue (convertFromTokenPrecision this.priceFeed.price)) "0,0.0[00]" 'eur'}}
                </a>
              </td>
              <td>{{change24h}}</td>
            </tr>
          {{/each}}
          </tbody>
        </table>
      </div>
      {{#if isCoreManagerThisManager getPortfolioDoc.managerAddress}}
        <div class="card-action">
          <a href="/manage/{{address}}" class="delete waves-effect waves-light btn blue lighten-2">Manage</a>
        </div>
      {{/if}}
    </div>

</template>
